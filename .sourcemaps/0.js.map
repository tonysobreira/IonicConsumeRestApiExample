{"version":3,"sources":["../../src/pages/user-list/user-list.module.ts","../../src/pages/user-list/user-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAU3C,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAR9B,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,gEAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,gEAAY,CAAC;SACvC;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZ+B;AACpB;AACgD;AAChD;AAO1C,IAAa,YAAY;IAKvB,sBAAmB,OAAsB,EAAS,SAAoB,EAAU,KAAsB,EAAU,YAA2B;QAAxH,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,UAAK,GAAL,KAAK,CAAiB;QAAU,iBAAY,GAAZ,YAAY,CAAe;IAAI,CAAC;IAEhJ,sCAAe,GAAf;QACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,kCAAW,GAAX,UAAY,IAAY;QAAxB,iBAkBC;QAjBC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC;aAC3B,IAAI,CAAC,UAAC,MAAW;YAChB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC5C,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1B,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC;YAED,EAAE,CAAC,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;gBAC/B,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;oBACtC,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACpC,CAAC;YACH,CAAC;QACH,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU;YAChB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,oCAAoC,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QACnI,CAAC,CAAC,CAAC;IACP,CAAC;IAED,+BAAQ,GAAR;QAAA,iBAKC;QAJC,UAAU,CAAC;YACT,KAAI,CAAC,IAAI,IAAI,CAAC,CAAC;YACf,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,+BAAQ,GAAR,UAAS,EAAU;QAAnB,iBASC;QARC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC;aACtB,IAAI,CAAC,UAAC,MAAW;YAChB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7D,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU;YAChB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,qCAAqC,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QACpI,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,qCAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC;IAED,mCAAY,GAAZ,UAAa,EAAU;QAAvB,iBAQC;QAPC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC;aACtB,IAAI,CAAC,UAAC,MAAW;YAChB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;QAC3D,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU;YAChB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,qCAAqC,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QACpI,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAU,GAAV,UAAW,IAAS;QAApB,iBAWC;QAVC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;aAC9B,IAAI,CAAC,UAAC,MAAW;YAChB,IAAI,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAE5B,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QAChH,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,KAAU;YAChB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,mCAAmC,GAAG,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QAClI,CAAC,CAAC,CAAC;IACP,CAAC;IACH,mBAAC;AAAD,CAAC;AA3E4B;IAA1B,0EAAS,CAAC,qEAAc,CAAC;8BAAiB,qEAAc;oDAAC;AAH/C,YAAY;IAJxB,wEAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACG;KAC9B,CAAC;iBAM2I;AAyE5I;SA9EY,YAAY,gB","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { UserListPage } from './user-list';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserListPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(UserListPage),\r\n  ],\r\n})\r\nexport class UserListPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-list/user-list.module.ts","import { UsersProvider } from './../../providers/users/users';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, InfiniteScroll } from 'ionic-angular';\r\nimport { ViewChild } from '@angular/core';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-user-list',\r\n  templateUrl: 'user-list.html',\r\n})\r\nexport class UserListPage {\r\n  users: any[];\r\n  page: number;\r\n  @ViewChild(InfiniteScroll) infiniteScroll: InfiniteScroll;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private toast: ToastController, private userProvider: UsersProvider) { }\r\n\r\n  ionViewDidEnter() {\r\n    this.users = [];\r\n    this.page = 1;\r\n    this.infiniteScroll.enable(true);\r\n    this.getAllUsers(this.page);\r\n  }\r\n\r\n  getAllUsers(page: number) {\r\n    this.userProvider.getAll(page)\r\n      .then((result: any) => {\r\n        for (var i = 0; i < result.data.length; i++) {\r\n          var user = result.data[i];\r\n          this.users.push(user);\r\n        }\r\n\r\n        if (this.infiniteScroll) {\r\n          this.infiniteScroll.complete();\r\n          if (this.users.length == result.total) {\r\n            this.infiniteScroll.enable(false);\r\n          }\r\n        }\r\n      })\r\n      .catch((error: any) => {\r\n        this.toast.create({ message: 'Erro ao listar os usuários. Erro: ' + error.error, position: 'botton', duration: 3000 }).present();\r\n      });\r\n  }\r\n\r\n  getUsers() {\r\n    setTimeout(() => {\r\n      this.page += 1;\r\n      this.getAllUsers(this.page);\r\n    }, 500);\r\n  }\r\n\r\n  openUser(id: number) {\r\n    this.userProvider.get(id)\r\n      .then((result: any) => {\r\n        this.navCtrl.push('UserDetailPage', { user: result.data });\r\n      })\r\n      .catch((error: any) => {\r\n        this.toast.create({ message: 'Erro ao recuperar o usuário. Erro: ' + error.error, position: 'botton', duration: 3000 }).present();\r\n      });\r\n\r\n  }\r\n\r\n  openCreateUser() {\r\n    this.navCtrl.push('UserEditPage');\r\n  }\r\n\r\n  openEditUser(id: number) {\r\n    this.userProvider.get(id)\r\n      .then((result: any) => {\r\n        this.navCtrl.push('UserEditPage', { user: result.data });\r\n      })\r\n      .catch((error: any) => {\r\n        this.toast.create({ message: 'Erro ao recuperar o usuário. Erro: ' + error.error, position: 'botton', duration: 3000 }).present();\r\n      });\r\n  }\r\n\r\n  deleteUser(user: any) {\r\n    this.userProvider.remove(user.id)\r\n      .then((result: any) => {\r\n        let index = this.users.indexOf(user);\r\n        this.users.splice(index, 1);\r\n\r\n        this.toast.create({ message: 'Usuário excluído com sucesso.', position: 'botton', duration: 3000 }).present();\r\n      })\r\n      .catch((error: any) => {\r\n        this.toast.create({ message: 'Erro ao excluir o usuário. Erro: ' + error.error, position: 'botton', duration: 3000 }).present();\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-list/user-list.ts"],"sourceRoot":""}